<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Find the best fashion deals across hundreds of retailers. Compare prices, track trends, and never miss a sale again!">
    <meta name="theme-color" content="#2C2C2C">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="StyleLink">
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">
    <link rel="shortcut icon" href="./favicon.svg">
    <!-- Google Fonts - Luxury Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/sleek-theme.css">
    <link rel="stylesheet" href="./assets/css/ai-recommendations.css">
    <link rel="manifest" href="./manifest.json">
    
    <!-- Custom Dark Grey, Silver, and Cream Theme - MUST LOAD LAST -->
    <link rel="stylesheet" href="./assets/css/custom-theme.css?v=2">
    <link rel="apple-touch-icon" href="./assets/images/Snatched.jpg">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>StyleLink - Find Fashion for Less</title>
</head>

<body>
    <header>
        <nav>
            <button class="hamburger-menu" id="hamburger-menu" aria-label="Toggle navigation menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <ul class="nav-links" id="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="camera-wardrobe.html">üì∑ Wardrobe AI</a></li>
                <li><a href="wishlist.html">üíù My Wishlist</a></li>
                <li><a href="contact.html">Contact Us</a></li>
                <li><a href="#" onclick="openFeedbackModal()">Feedback</a></li>
                <li><a href="login-signup.html" class="login-signup">Login/Signup</a></li>
                <li>
                    <a href="checkout.html" class="cart-link" id="cart-link">
                        <span class="cart-icon">üõí</span>
                        <span class="cart-count" id="cart-count">0</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="nav-overlay" id="nav-overlay"></div>
           
            <!-- Search Bar Section -->
            
            <section class="hero">
                <div class="hero-content">
                    <h1>StyleLink</h1>
                    
                </div>
            </section>
        </header>        <article class="content">
            <!-- Search Section - API Based -->
            <div class="search-container">
                <div class="search-bar">
                    <input type="text" placeholder="Search any product across hundreds of retailers..." class="search-input" id="searchInput">
                    <button type="button" class="search-button" id="searchButton">
                        <span class="search-icon">üîç</span>
                    </button>
                </div>
                <!-- Search Examples -->
                <div class="search-examples">
                    <span class="examples-label">Popular searches:</span>
                    <button class="example-search-btn" onclick="performAPISearch('Nike Air Max')">Nike Air Max</button>
                    <button class="example-search-btn" onclick="performAPISearch('iPhone 15')">iPhone 15</button>
                    <button class="example-search-btn" onclick="performAPISearch('Levi\'s jeans')">Levi's Jeans</button>
                    <button class="example-search-btn" onclick="performAPISearch('MacBook Pro')">MacBook Pro</button>
                </div>
                <!-- Search Status -->
                <div class="search-status" id="searchStatus" style="display: none;">
                    <span class="results-count" id="resultsCount"></span>
                    <span class="search-time" id="searchTime"></span>
                </div>
            </div>

            <!-- Search Results Container -->
            <div id="searchResults" class="search-results-container" style="display: none;">
                <!-- Search results will be dynamically inserted here -->
            </div>

            <!-- Call to Action Section -->            <section class="cta-section">
                <div class="cta-content">
                    <h2>Elevate Your Style with StyleLink</h2>
                    <p>Join the exclusive community of fashion enthusiasts who choose premium quality and timeless elegance</p>
                    <div class="cta-buttons">
                        <button class="cta-primary">Explore Collections</button>
                        <button class="cta-secondary">Book Styling Session</button>
                    </div>
                </div>
            </section>
        </article>

            <aside class="related-articles">
                <h3>Related Articles</h3>
                <ul>
                    <li><a href="#">How to Choose the Right Outfit for Any Occasion</a></li>
                    <li><a href="#">Top 10 Fashion Trends to Watch in 2023</a></li>
                    <li><a href="#">The Ultimate Guide to Accessorizing Your Look</a></li>
                </ul>
            </aside>


    <footer class="footer" id="footer">
        <h2>Building a Smarter Shopping World Together</h2>
        <p>
            &copy; StyleLink
        </p>
        <ul class="contactInfo" id="contactInfo">
            <li>Phone: (555)5555555</li>
            <li>Email: hello@stylelink.com</li>
            <li>Ogden, UT</li>
        </ul>
    </footer>

    <!-- Feedback Modal -->
    <div class="feedback-modal" id="feedback-modal">
        <div class="feedback-content">
            <button class="feedback-close" id="feedback-close">&times;</button>
            <div class="feedback-header">
                <h2>Share Your Feedback</h2>
                <p>Help us improve your shopping experience</p>
            </div>
            <form class="feedback-form" id="feedback-form">
                <div class="feedback-group">
                    <label for="feedback-name">Name</label>
                    <input type="text" id="feedback-name" class="feedback-input" required>
                </div>
                <div class="feedback-group">
                    <label for="feedback-email">Email</label>
                    <input type="email" id="feedback-email" class="feedback-input" required>
                </div>
                <div class="feedback-group">
                    <label for="feedback-type">Feedback Type</label>
                    <select id="feedback-type" class="feedback-select" required>
                        <option value="">Select type...</option>
                        <option value="bug">Bug Report</option>
                        <option value="feature">Feature Request</option>
                        <option value="general">General Feedback</option>
                    </select>
                </div>
                <div class="feedback-group">
                    <label for="feedback-rating">Rating</label>
                    <div class="feedback-rating" id="feedback-rating">
                        <span class="rating-star" data-rating="1">‚òÖ</span>
                        <span class="rating-star" data-rating="2">‚òÖ</span>
                        <span class="rating-star" data-rating="3">‚òÖ</span>
                        <span class="rating-star" data-rating="4">‚òÖ</span>
                        <span class="rating-star" data-rating="5">‚òÖ</span>
                    </div>
                </div>
                <div class="feedback-group">
                    <label for="feedback-message">Message</label>
                    <textarea id="feedback-message" class="feedback-textarea" required></textarea>
                </div>
                <button type="submit" class="feedback-submit">Submit Feedback</button>
            </form>
        </div>
    </div>

    <!-- API Configuration -->
    <script src="./config/api-config.js"></script>
    
    <!-- API Search System -->
    <script src="./assets/js/api-search-service.js"></script>
    <script src="./assets/js/api-search-ui.js"></script>
    
    <!-- API Testing (Development only) -->
    <script src="./assets/js/test-api.js"></script>
    
    <!-- AI Fashion Compatibility Engine - PATENT PENDING -->
    <script src="./assets/js/ai-fashion-models.js"></script>
    <script src="./assets/js/ai-fashion-compatibility-engine.js"></script>
    <script src="./assets/js/ai-fashion-ui.js"></script>
    
    <!-- Optional: Load other services on demand -->
    <script src="./assets/js/api-service.js" defer></script>
    <script src="./assets/js/auth-service.js" defer></script>
    <script src="./assets/js/price-alert-service.js" defer></script>
    <script src="./assets/js/analytics-service.js" defer></script>
    <script src="assets/js/main.js" defer></script>
    
    <!-- PWA Service Worker Registration -->
    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('StyleLink: Service Worker registered successfully:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('StyleLink: Service Worker registration failed:', error);
                    });
            });
        }

        // PWA Install Prompt
        let deferredPrompt;
        let installButton;

        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('StyleLink: Install prompt triggered');
            // Prevent Chrome 67 and earlier from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            
            // Create and show install button
            showInstallButton();
        });

        function showInstallButton() {
            // Create install button if it doesn't exist
            if (!document.getElementById('install-button')) {
                installButton = document.createElement('button');
                installButton.id = 'install-button';
                installButton.textContent = 'üì± Install StyleLink App';
                installButton.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #2C2C2C 0%, #4A4A4A 100%);
                    color: #C0C0C0;
                    border: none;
                    padding: 12px 20px;
                    border-radius: 25px;
                    font-weight: 600;
                    font-size: 0.9rem;
                    cursor: pointer;
                    box-shadow: 0 4px 16px rgba(44, 44, 44, 0.3);
                    z-index: 1000;
                    transition: all 0.3s ease;
                    animation: installPulse 2s infinite;
                `;
                
                installButton.addEventListener('click', installApp);
                document.body.appendChild(installButton);
                
                // Add install button hover effects
                installButton.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 6px 20px rgba(44, 44, 44, 0.4)';
                });
                
                installButton.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 4px 16px rgba(44, 44, 44, 0.3)';
                });
            }
        }

        function installApp() {
            if (deferredPrompt) {
                // Show the install prompt
                deferredPrompt.prompt();
                
                // Wait for the user to respond to the prompt
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('StyleLink: User accepted the install prompt');
                        // Hide the install button
                        if (installButton) {
                            installButton.style.display = 'none';
                        }
                    } else {
                        console.log('StyleLink: User dismissed the install prompt');
                    }
                    deferredPrompt = null;
                });
            }
        }

        // Handle successful app installation
        window.addEventListener('appinstalled', (evt) => {
            console.log('StyleLink: App was installed successfully');
            // Hide install button
            if (installButton) {
                installButton.style.display = 'none';
            }
            
            // Show thank you message
            const thankYou = document.createElement('div');
            thankYou.innerHTML = '‚ú® Welcome to StyleLink! App installed successfully.';
            thankYou.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #2C2C2C 0%, #4A4A4A 100%);
                color: #C0C0C0;
                padding: 15px 20px;
                border-radius: 10px;
                font-weight: 600;
                z-index: 1001;
                box-shadow: 0 4px 16px rgba(44, 44, 44, 0.3);
            `;
            document.body.appendChild(thankYou);
            
            // Remove thank you message after 3 seconds
            setTimeout(() => {
                if (thankYou.parentNode) {
                    thankYou.parentNode.removeChild(thankYou);
                }
            }, 3000);
        });
    </script>


    
    <!-- Initialize Authentication, Price Alerts, Analytics, Charts, and AI -->
    <script>
        // Initialize all systems when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            // Existing systems
            window.authUI = new AuthUI();
            window.priceAlertUI = new PriceAlertUI();
            window.analyticsUI = new AnalyticsUI();
            
            // Initialize charts if Chart.js is loaded
            if (window.Chart) {
                window.chartsService = new ChartsService();
                window.chartsUI = new ChartsUI();
                window.chartsUI.init();
            }

            // Initialize AI Fashion Matching System
            if (window.aiFashionMatcher) {
                window.aiFashionMatcher.initializeUI();
                console.log('ü§ñ AI Fashion Matching System initialized');
                
                // Add AI enhancement indicators to product cards
                document.querySelectorAll('.product-card').forEach(card => {
                    card.classList.add('ai-enhanced');
                });
            }
        });
    </script>
    
    <!-- Scroll to top on page load/refresh -->
    <script>
        // Ensure page starts at top when loaded or refreshed
        window.addEventListener('beforeunload', function() {
            window.scrollTo(0, 0);
        });
        
        window.addEventListener('load', function() {
            setTimeout(function() {
                window.scrollTo(0, 0);
            }, 50);
        });
        
        // Also handle page show event for back/forward navigation
        window.addEventListener('pageshow', function() {
            window.scrollTo(0, 0);
        });
        
        // Hamburger Menu Functionality
        const hamburgerMenu = document.getElementById('hamburger-menu');
        const navLinks = document.getElementById('nav-links');
        const navOverlay = document.getElementById('nav-overlay');
        
        function toggleMenu() {
            console.log('Toggle menu clicked!');
            hamburgerMenu.classList.toggle('active');
            navLinks.classList.toggle('active');
            navOverlay.classList.toggle('active');
            document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : 'auto';
            console.log('Menu active:', navLinks.classList.contains('active'));
        }
        
        hamburgerMenu.addEventListener('click', toggleMenu);
        navOverlay.addEventListener('click', toggleMenu);
        
        // Close menu when clicking on nav links
        navLinks.addEventListener('click', function(e) {
            if (e.target.tagName === 'A') {
                toggleMenu();
            }
        });
        
        // Close menu on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && navLinks.classList.contains('active')) {
                toggleMenu();
            }
        });
        
        // Feedback Modal Functionality
        function openFeedbackModal() {
            document.getElementById('feedback-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeFeedbackModal() {
            document.getElementById('feedback-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        // Initialize feedback modal
        const feedbackModal = document.getElementById('feedback-modal');
        const feedbackClose = document.getElementById('feedback-close');
        const feedbackForm = document.getElementById('feedback-form');
        const ratingStars = document.querySelectorAll('.rating-star');
        let selectedRating = 0;
        
        feedbackClose.addEventListener('click', closeFeedbackModal);
        
        feedbackModal.addEventListener('click', function(e) {
            if (e.target === feedbackModal) {
                closeFeedbackModal();
            }
        });
        
        // Star rating functionality
        ratingStars.forEach(star => {
            star.addEventListener('click', function() {
                selectedRating = parseInt(this.dataset.rating);
                updateStarDisplay();
            });
            
            star.addEventListener('mouseenter', function() {
                const hoverRating = parseInt(this.dataset.rating);
                updateStarDisplay(hoverRating);
            });
        });
        
        document.getElementById('feedback-rating').addEventListener('mouseleave', function() {
            updateStarDisplay();
        });
        
        function updateStarDisplay(hoverRating = null) {
            const rating = hoverRating || selectedRating;
            ratingStars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }
        
        // Form submission
        feedbackForm.addEventListener('submit', function(e) {
            e.preventDefault();
            // Here you would normally send the feedback to your server
            alert('Thank you for your feedback! We appreciate your input.');
            closeFeedbackModal();
            feedbackForm.reset();
            selectedRating = 0;
            updateStarDisplay();
        });
        
        // Escape key closes modal
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && feedbackModal.classList.contains('active')) {
                closeFeedbackModal();
            }
        });

        // Cart count update functionality
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('stylelink_cart') || '[]');
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            const cartCountEl = document.getElementById('cart-count');
            
            if (cartCountEl) {
                cartCountEl.textContent = cartCount;
                cartCountEl.classList.toggle('has-items', cartCount > 0);
            }
        }

        // Update cart count on page load
        updateCartCount();

        // Listen for storage events (cart updates from other pages)
        window.addEventListener('storage', function(e) {
            if (e.key === 'stylelink_cart') {
                updateCartCount();
            }
        });

        // Listen for custom cart update events
        window.addEventListener('cartUpdated', updateCartCount);

        // Add to Cart button functionality
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('add-to-cart-btn')) {
                const button = e.target;
                const item = {
                    id: parseInt(button.dataset.productId),
                    name: button.dataset.productName,
                    price: parseFloat(button.dataset.productPrice),
                    image: button.dataset.productImage,
                    category: button.dataset.productCategory,
                    size: 'M', // Default size
                    color: 'Standard' // Default color
                };
                
                // Add to cart using CheckoutManager
                if (window.CheckoutManager) {
                    CheckoutManager.addToCart(item);
                }
            }
        });
    </script>
    
    <!-- Cart Functionality -->
    <script src="./assets/js/checkout.js"></script>
</body>

</html>