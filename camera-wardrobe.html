<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üì∑ Camera Wardrobe</title>
    <meta name="description" content="Use AI to analyze your wardrobe and get personalized styling recommendations">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#764ba2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Aced">
    
    <!-- Styles -->
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/sleek-theme.css">
    <link rel="stylesheet" href="./assets/css/camera-wardrobe.css">
    
    <!-- Icons -->
    <link rel="apple-touch-icon" href="./assets/images/icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/icons/icon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/images/icons/icon-16.png">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav>
            <button class="hamburger-menu" id="hamburger-menu" aria-label="Toggle navigation menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <div class="navbar-brand">
                <a href="index.html">
                    <span class="brand-text">Aced</span>
                </a>
            </div>
            <ul class="nav-links" id="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="best-deals.html">Best Deals</a></li>
                <li><a href="trending-now.html">Trending Now</a></li>
                <li><a href="camera-wardrobe.html" class="active">üì∑ Wardrobe AI</a></li>
                <li><a href="contact.html">Contact Us</a></li>
                <li><a href="login-signup.html" class="login-signup">Login/Signup</a></li>
                <li>
                    <a href="checkout.html" class="cart-link" id="cart-link">
                        <span class="cart-icon">üõí</span>
                        <span class="cart-count" id="cart-count">0</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="nav-overlay" id="nav-overlay"></div>
    </header>

    <!-- Main Content -->
    <main class="camera-wardrobe-container">
        <!-- Header -->
        <div class="camera-header">
            <h1>‚ú® AI Wardrobe Analyzer</h1>
            <p>Transform your fashion experience with cutting-edge AI technology. Capture your style, discover perfect matches, and elevate your wardrobe with personalized recommendations powered by advanced machine learning.</p>
        </div>

        <!-- Camera Interface -->
        <div class="camera-interface">
            <!-- Mode Selector -->
            <div class="camera-controls">
                <div class="camera-mode-selector">
                    <button class="mode-btn active" data-mode="outfit">üëó Complete Outfit</button>
                    <button class="mode-btn" data-mode="item">üëî Single Item</button>
                    <button class="mode-btn" data-mode="color">üé® Color Analysis</button>
                    <button class="mode-btn" data-mode="occasion">‚ú® Style Match</button>
                </div>
            </div>

            <!-- Camera Display -->
            <div class="camera-display">
                <video id="cameraVideo" class="camera-video" playsinline muted></video>
                <div class="camera-overlay">
                    <div class="camera-guide">
                        <h3>‚ú® Complete Outfit Analysis</h3>
                        <p>Position yourself in frame for comprehensive style analysis and personalized fashion recommendations</p>
                    </div>
                </div>
            </div>

            <!-- Photo Preview -->
            <div class="photo-preview">
                <img class="preview-image" alt="Captured photo">
            </div>

            <!-- File Upload Alternative -->
            <div class="file-upload" onclick="document.getElementById('photoUpload').click()">
                <div class="file-upload-icon">ÔøΩÔ∏è</div>
                <h3>Upload Your Photo</h3>
                <p>Drag & drop your fashion photos here or click to browse from your device</p>
                <input type="file" id="photoUpload" accept="image/*" capture="environment">
            </div>

            <!-- Action Buttons -->
            <div class="camera-actions">
                <button id="startCamera" class="camera-btn">
                    ÔøΩ Launch Camera
                </button>
                <button id="capturePhoto" class="camera-btn" style="display: none;">
                    ‚ú® Capture Style
                </button>
                <button id="retakePhoto" class="camera-btn secondary" style="display: none;">
                    üîÑ Try Again
                </button>
                <button id="analyzePhoto" class="camera-btn" style="display: none;">
                    üß† Analyze Fashion
                </button>
            </div>

            <!-- Loading State -->
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>‚ú® Analyzing your style...</p>
            </div>
        </div>

        <!-- AI Analysis Results -->
        <div class="ai-analysis">
            <h3>‚ú® AI Fashion Insights</h3>
            <div class="analysis-grid">
                <!-- Results will be populated by JavaScript -->
            </div>
        </div>

        <!-- Recommendations -->
        <div class="recommendations">
            <h3>üõçÔ∏è Curated Recommendations</h3>
            <div class="recommendation-grid">
                <!-- Recommendations will be populated by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Aced</h3>
                <p>AI-powered fashion discovery platform</p>
            </div>
            <div class="footer-section">
                <h3>Features</h3>
                <ul>
                    <li><a href="index.html">Smart Search</a></li>
                    <li><a href="trending-now.html">Trending Items</a></li>
                    <li><a href="best-deals.html">Best Deals</a></li>
                    <li><a href="camera-wardrobe.html">Wardrobe AI</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Support</h3>
                <ul>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="#privacy">Privacy Policy</a></li>
                    <li><a href="#terms">Terms of Service</a></li>
                    <li><a href="#help">Help Center</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Aced. All rights reserved. | Made with ‚ù§Ô∏è for fashion lovers</p>
        </div>
    </footer>

    <!-- Hamburger Menu Script -->
    <script>
        // Hamburger menu functionality
        function toggleMenu() {
            const navLinks = document.getElementById('nav-links');
            const overlay = document.getElementById('nav-overlay');
            const hamburger = document.getElementById('hamburger-menu');
            
            navLinks.classList.toggle('active');
            overlay.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        // Close menu when clicking outside
        document.addEventListener('DOMContentLoaded', function() {
            const hamburgerMenu = document.getElementById('hamburger-menu');
            const navOverlay = document.getElementById('nav-overlay');
            
            if (hamburgerMenu) {
                hamburgerMenu.addEventListener('click', toggleMenu);
            }
            if (navOverlay) {
                navOverlay.addEventListener('click', toggleMenu);
            }
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const navLinks = document.getElementById('nav-links');
                    const overlay = document.getElementById('nav-overlay');
                    const hamburger = document.getElementById('hamburger-menu');
                    
                    if (navLinks && navLinks.classList.contains('active')) {
                        navLinks.classList.remove('active');
                        overlay.classList.remove('active');
                        hamburger.classList.remove('active');
                    }
                }
            });
        });
    </script>

    <!-- Scripts -->
    <script src="./config/api-config.js"></script>
    <script src="./assets/js/ai-fashion-models.js"></script>
    <script src="./assets/js/ai-fashion-compatibility-engine.js"></script>
    <script src="./assets/js/camera-wardrobe-matcher.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>

    <!-- Camera Support Check -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const startBtn = document.getElementById('startCamera');
            const fileUpload = document.querySelector('.file-upload');
            
            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                // Camera not supported, show file upload only
                startBtn.style.display = 'none';
                fileUpload.innerHTML = `
                    <div class="file-upload-icon">üì±</div>
                    <h3>Camera Not Available</h3>
                    <p>Upload a photo from your device instead</p>
                    <input type="file" id="photoUpload" accept="image/*">
                `;
            }
            
            // Check if mobile device
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            if (isMobile) {
                console.log('üì± Mobile device detected - camera optimized for mobile');
            }
        });
    </script>
</body>
</html>
